{% extends "document.njk" %}

{% block content %}
  <div class="channel">
    <header class="channel__header">
      <a href="{{ baseUrl }}/channels" class="back-link">
        {{ icon("previous") }} {{ __("microsub.channels.title") }}
      </a>
      <div class="channel__actions">
        <a href="{{ baseUrl }}/channels/{{ channel.uid }}/feeds" class="button button--secondary button--small">
          {{ icon("syndicate") }} {{ __("microsub.feeds.title") }}
        </a>
        <a href="{{ baseUrl }}/channels/{{ channel.uid }}/settings" class="button button--secondary button--small">
          {{ icon("updatePost") }} {{ __("microsub.channels.settings") }}
        </a>
      </div>
    </header>

    {% if items.length > 0 %}
    <div class="timeline">
      {% for item in items %}
      {% include "partials/item-card.njk" %}
      {% endfor %}
    </div>

    {% if paging %}
    <nav class="timeline__paging" aria-label="Pagination">
      {% if paging.before %}
      <a href="?before={{ paging.before }}" class="button button--secondary">
        {{ icon("previous") }} {{ __("microsub.reader.newer") }}
      </a>
      {% endif %}
      {% if paging.after %}
      <a href="?after={{ paging.after }}" class="button button--secondary">
        {{ __("microsub.reader.older") }} {{ icon("next") }}
      </a>
      {% endif %}
    </nav>
    {% endif %}
    {% else %}
    {{ prose({ text: __("microsub.timeline.empty") }) }}
    {% endif %}
  </div>
{% endblock %}
